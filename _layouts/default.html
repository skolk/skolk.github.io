<!DOCTYPE html>
<html>

  {% include head.html %}

  <body class="standard" id="theme-body">

    {% include github-ribbon.html %}

    <div class="container">
      <div class="grid">
        <aside class="cell -3of12" role="navigation">
          {% include navigation.html %}
        </aside>

        <main class="cell -9of12">
          {{ content }}
        </main>
      </div>

    {% include footer.html %}

    </div>

    <!-- Prism.js -->
    <script src="https://npmcdn.com/prismjs@1.5.1/prism.js"></script>
    
    <!-- Night Mode Script -->
    <script>
      // Check for saved theme preference or default to 'light'
      const currentTheme = localStorage.getItem('theme') || 'light';
      const body = document.getElementById('theme-body');
      const liteText = document.getElementById('lite-text');
      const darkText = document.getElementById('dark-text');
      
      // Apply saved theme on page load
      if (currentTheme === 'dark') {
        enableDarkMode();
      }
      
      function toggleNightMode() {
        if (body.classList.contains('dark-theme')) {
          enableLightMode();
        } else {
          enableDarkMode();
        }
      }
      
      function enableDarkMode() {
        // Update body classes
        body.classList.remove('standard');
        body.classList.add('hack', 'dark', 'dark-theme');
        
        // Update stylesheets
        document.getElementById('theme-standard').disabled = true;
        document.getElementById('theme-dark').disabled = false;
        
        // Update toggle text
        liteText.classList.remove('active');
        darkText.classList.add('active');
        
        // Save preference
        localStorage.setItem('theme', 'dark');
      }
      
      function enableLightMode() {
        // Update body classes
        body.classList.remove('hack', 'dark', 'dark-theme');
        body.classList.add('standard');
        
        // Update stylesheets
        document.getElementById('theme-standard').disabled = false;
        document.getElementById('theme-dark').disabled = true;
        
        // Update toggle text
        liteText.classList.add('active');
        darkText.classList.remove('active');
        
        // Save preference
        localStorage.setItem('theme', 'light');
      }
    </script>
  </body>

</html>